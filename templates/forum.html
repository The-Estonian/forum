<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/css/main.css" />
    <title>Forum</title>
  </head>
  <body>
    <div class="container">
      <div class="container_menu">
        <a class="container_menu_button" href="/">
          <span>Forum</span>
        </a>
        {{if eq .Access.AccessRight "1" }}
        <a class="container_menu_button" href="/login">
          <span>Login</span>
        </a>
        <a class="container_menu_button" href="/register">
          <span>Register</span>
        </a>
        {{else if eq .Access.AccessRight "2"}}
        <a class="container_menu_button" href="/logout">
          <span>Logout</span>
        </a>

        <a class="container_menu_button" href="/post">
          <span>Create Post</span>
        </a>
        {{end}}
        <span class="container_menu_button"> {{.User.Username}} </span>
      </div>
      <div class="container_content">
        {{range $item := .AllPosts}}
        <a
          class="container_content_post-link"
          href="/postcontent?PostId={{$item.Id}}"
        >
          <div class="container_content_post-link_container">
            <span> {{$item.Title}} </span>
            <span> posted by {{$item.Username}} </span>
            <span> {{$item.Created}} ago </span>
            {{if eq $.Access.AccessRight "2" }}
            <form action="/" method="post">
              <label for="like">
                <input type="hidden" name="postId" value="{{$item.Id}}" />
                <input type="submit" name="like" value="Like" />
              </label>
              {{$item.LikeRating}}
              <label for="dislike">
                <input type="hidden" name="postId" value="{{$item.Id}}" />
                <input type="submit" name="dislike" value="Dislike" />
              </label>
            </form>
            {{end}}
          </div>
        </a>
        {{end}}
      </div>
    </div>
  </body>
</html>
